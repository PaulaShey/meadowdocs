{"seeAlsoSections":[{"title":"The Knowledge Graph","identifiers":["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/GraphModel","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/DataPersistency","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/Container"],"generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Persistency is ability to store the Meadow container’s data (e.g. images or PDF documents which they represent) as well as container’s metadata, such as the container’s’ name, placement geometry within the parent container, list of parents, etc."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Meadow app supports local and cloud-backend persistency. The latter allows for syncing of the persistent state across multiple devices."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This document discuss meta-data persistency."}]},{"anchor":"CloudKit-configuration","level":3,"type":"heading","text":"CloudKit configuration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"CloudKit bundle id: "},{"type":"codeVoice","code":"io.wildland.meadow.alpha"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Container names:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"io.wildland.meadow.alpha"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"io.wildland.meadow.alpha-debug"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"io.wildland.meadow.alpha-testing"},{"type":"text","text":" \/\/ TODO: currently not used"}]}]}]},{"anchor":"Launch-arguments-to-manage-persistency","level":3,"type":"heading","text":"Launch arguments to manage persistency"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following options can be passed to Meadow on launch (via cli or i a Scheme editor) to control the store state. Some of these are useful for integration tests to allow clean state at startup."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"--disable-cloud-sync"},{"type":"text","text":" – Temporarily disable CloudKit syncing, don’t cleanup anything."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"--clean-local-store"},{"type":"text","text":" – Delete local persistency store. This is a DESTRUCTIVE operation! Note that if the store has been properly synced to the cloud, it could be recovered by enabling cloud syncing. This also means that for testing, one would typically want to use it together with "},{"type":"codeVoice","code":"--disable-cloud-sync"},{"type":"text","text":" argument, as otherwise the store will be momentarily restored from the cloud."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"See also: "},{"type":"reference","isActive":true,"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CommandLine"}]}]}],"variants":[{"paths":["\/documentation\/meadow\/graphpersistency"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/GraphPersistency","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This document discusses how local and cloud persistence is implemented in Meadow."}],"kind":"article","metadata":{"modules":[{"name":"Meadow"}],"role":"collectionGroup","title":"Metadata Persistency and Cloud syncing"},"hierarchy":{"paths":[["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow"]]},"topicSections":[{"title":"Metadata local persistency using Core Data","identifiers":["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainers","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/ManualPlacements","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainerObserver"]},{"title":"Core Data Model classes","identifiers":["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainer","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentPlacement"]},{"title":"Metadata cloud-backed persistency using CloudKit","identifiers":["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack"]}],"references":{"doc://io.wildland.meadow.alpha/documentation/Meadow/PersistentContainer":{"role":"symbol","title":"PersistentContainer","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PersistentContainer"}],"abstract":[],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PersistentContainer"}],"url":"\/documentation\/meadow\/persistentcontainer"},"doc://io.wildland.meadow.alpha/documentation/Meadow/PersistentContainerObserver":{"role":"symbol","title":"PersistentContainerObserver","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PersistentContainerObserver"}],"abstract":[{"type":"text","text":"Create an instance of this class to observe a specific Container.id"},{"type":"text","text":" "},{"type":"text","text":"for any underlying changes to its store representation"},{"type":"text","text":" "},{"type":"text","text":"(e.g. as a result of cloud syncing events)"},{"type":"text","text":" "},{"type":"text","text":"NOTE: it currently only monitors events resulting from CloudKit syncing"},{"type":"text","text":" "},{"type":"text","text":"– see addObserver comments in the init()"}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainerObserver","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PersistentContainerObserver"}],"url":"\/documentation\/meadow\/persistentcontainerobserver"},"doc://io.wildland.meadow.alpha/documentation/Meadow/CoreDataStack":{"role":"symbol","title":"CoreDataStack","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CoreDataStack"}],"abstract":[{"type":"text","text":"Creates the Core Data stack. Supports Cloud and Local configurations,"},{"type":"text","text":" "},{"type":"text","text":"manual disabling of the CloudKit syncing and more."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CoreDataStack"}],"url":"\/documentation\/meadow\/coredatastack"},"doc://io.wildland.meadow.alpha/documentation/Meadow/PersistentPlacement":{"role":"symbol","title":"PersistentPlacement","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PersistentPlacement"}],"abstract":[],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentPlacement","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PersistentPlacement"}],"url":"\/documentation\/meadow\/persistentplacement"},"doc://io.wildland.meadow.alpha/documentation/Meadow/GraphModel":{"role":"article","title":"The Graph Model","abstract":[{"type":"text","text":"This article discusses how the Meadow’s Knowledge Graph is exposed to the rest of the code, how it is stored and synced between devices."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/GraphModel","kind":"article","type":"topic","url":"\/documentation\/meadow\/graphmodel"},"doc://io.wildland.meadow.alpha/documentation/Meadow/ManualPlacements":{"role":"symbol","title":"ManualPlacements","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ManualPlacements"}],"abstract":[],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/ManualPlacements","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ManualPlacements"}],"url":"\/documentation\/meadow\/manualplacements"},"doc://io.wildland.meadow.alpha/documentation/Meadow/Container":{"role":"symbol","title":"Container","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Container"}],"abstract":[{"type":"text","text":"A representation of an abstract data container."},{"type":"text","text":" "},{"type":"text","text":"The base protocol for all the Meadow containers types."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/Container","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Container"}],"url":"\/documentation\/meadow\/container"},"doc://io.wildland.meadow.alpha/documentation/Meadow/PersistentContainers":{"role":"symbol","title":"PersistentContainers","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PersistentContainers"}],"abstract":[],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/PersistentContainers","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PersistentContainers"}],"url":"\/documentation\/meadow\/persistentcontainers"},"doc://io.wildland.meadow.alpha/documentation/Meadow/CommandLine":{"role":"collectionGroup","title":"CommandLine","abstract":[],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CommandLine","kind":"article","type":"topic","url":"\/documentation\/meadow\/commandline"},"doc://io.wildland.meadow.alpha/documentation/Meadow/DataPersistency":{"role":"collectionGroup","title":"Data Persistency","abstract":[{"type":"text","text":"Data Persistency is concerned with storage of container source data, such as files or images, which the containers represent."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/DataPersistency","kind":"article","type":"topic","url":"\/documentation\/meadow\/datapersistency"},"doc://io.wildland.meadow.alpha/documentation/Meadow":{"role":"collection","title":"Meadow","abstract":[{"type":"text","text":"Welcome to the the Meadow developer’s documentation."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow","kind":"symbol","type":"topic","url":"\/documentation\/meadow"}}}