{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"enableCloudKit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":" = Config.shared.cloudSyncingEnabled, "},{"kind":"externalParam","text":"isTestingMode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":" = false, "},{"kind":"externalParam","text":"testingSubdirUUID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"},{"kind":"text","text":" = UUID())"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"parameters","parameters":[{"name":"enableCloudKit","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"disable setup needed for CloudKit syncing."}]}]},{"name":"isTestingMode","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"use unique temporary directory for the store DB."}]}]},{"name":"testingSubdirUUID","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"make the testing subdir specific to allow sharing"},{"type":"text","text":" "},{"type":"text","text":"the same instance between tests."}]}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is done only once in an app, but might be done multiple times in unit and integration"},{"type":"text","text":" "},{"type":"text","text":"tests in order to test concurrent DB access and simulate multi-devices scenarios."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For most unit tests we want the store location to be unique for each test, so we"},{"type":"text","text":" "},{"type":"text","text":"have the store path contain a new "},{"type":"codeVoice","code":"UUID()"},{"type":"text","text":", generated for each new "},{"type":"codeVoice","code":"CoreDataStack()"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"But for integration tests we often want several instances of "},{"type":"codeVoice","code":"CoreDataStack"},{"type":"text","text":" "},{"type":"text","text":"to share the common local DB in order to test store\/load functionality and this is"},{"type":"text","text":" "},{"type":"text","text":"where the "},{"type":"codeVoice","code":"testingSubdirUUID"},{"type":"text","text":" comes handy."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/meadow\/coredatastack\/init(enablecloudkit:istestingmode:testingsubdiruuid:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack\/init(enableCloudKit:isTestingMode:testingSubdirUUID:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Initialises the whole CoreData Stack."}],"kind":"symbol","metadata":{"fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"enableCloudKit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"isTestingMode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"testingSubdirUUID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"},{"kind":"text","text":")"}],"title":"init(enableCloudKit:isTestingMode:testingSubdirUUID:)","roleHeading":"Initializer","role":"symbol","symbolKind":"init","externalID":"s:6Meadow13CoreDataStackC14enableCloudKit13isTestingMode17testingSubdirUUIDACSb_Sb10Foundation0M0Vtcfc","modules":[{"name":"Meadow"}]},"hierarchy":{"paths":[["doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/GraphPersistency","doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack"]]},"references":{"doc://io.wildland.meadow.alpha/documentation/Meadow/CoreDataStack":{"role":"symbol","title":"CoreDataStack","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CoreDataStack"}],"abstract":[{"type":"text","text":"Creates the Core Data stack. Supports Cloud and Local configurations,"},{"type":"text","text":" "},{"type":"text","text":"manual disabling of the CloudKit syncing and more."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CoreDataStack"}],"url":"\/documentation\/meadow\/coredatastack"},"doc://io.wildland.meadow.alpha/documentation/Meadow":{"role":"collection","title":"Meadow","abstract":[{"type":"text","text":"Welcome to the the Meadow developerâ€™s documentation."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow","kind":"symbol","type":"topic","url":"\/documentation\/meadow"},"doc://io.wildland.meadow.alpha/documentation/Meadow/GraphPersistency":{"role":"collectionGroup","title":"Metadata Persistency and Cloud syncing","abstract":[{"type":"text","text":"This document discusses how local and cloud persistence is implemented in Meadow."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/GraphPersistency","kind":"article","type":"topic","url":"\/documentation\/meadow\/graphpersistency"},"doc://io.wildland.meadow.alpha/documentation/Meadow/CoreDataStack/init(enableCloudKit:isTestingMode:testingSubdirUUID:)":{"role":"symbol","title":"init(enableCloudKit:isTestingMode:testingSubdirUUID:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"enableCloudKit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"isTestingMode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"testingSubdirUUID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initialises the whole CoreData Stack."}],"identifier":"doc:\/\/io.wildland.meadow.alpha\/documentation\/Meadow\/CoreDataStack\/init(enableCloudKit:isTestingMode:testingSubdirUUID:)","kind":"symbol","type":"topic","url":"\/documentation\/meadow\/coredatastack\/init(enablecloudkit:istestingmode:testingsubdiruuid:)"}}}